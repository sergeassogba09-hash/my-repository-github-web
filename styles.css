:root{
  --bg:#0f172a; --panel:#0b1220; --card:#111827; --border:#1f2937;
  --text:#e5e7eb; --muted:#94a3b8; --accent:#22c55e; --primary:#2563eb;
  --input:#0b1220; --danger:#ef4444;
}

/* Police globale */
body, input, select, button, textarea {
  font-family: 'Inter', 'Roboto', sans-serif;
}

/* Light theme variables */
body.light{
  --bg:#f9fafb; --panel:#ffffff; --card:#ffffff; --border:#e5e7eb;
  --text:#111827; --muted:#6b7280; --accent:#16a34a; --primary:#1d4ed8;
  --input:#ffffff;
}

*{box-sizing:border-box}
body{
  margin:0; font-family:system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Cantarell,'Noto Sans',sans-serif;
  background:var(--bg); color:var(--text); transition:background .2s, color .2s;
}
.header{
  display:flex; justify-content:space-between; align-items:center;
  padding:16px 20px; background:var(--card); border-bottom:1px solid var(--border);
}
h1{margin:0; color:var(--accent)}
.menu{position:relative}
.menu-toggle{cursor:pointer; font-size:22px}
.menu-panel{
  position:absolute; top:40px; right:0; background:var(--card); border:1px solid var(--border);
  border-radius:10px; padding:10px; display:none; min-width:180px; box-shadow:0 8px 24px rgba(0,0,0,.2);
}
.menu-panel button{width:100%; padding:8px 10px; border-radius:8px; border:1px solid var(--border); background:var(--input); color:var(--text); cursor:pointer}
.menu-panel label{display:flex; align-items:center; gap:8px; margin-top:8px; color:var(--muted)}

main{max-width:1100px; margin:0 auto; padding:16px}
.panel{
  background:var(--panel); border:1px solid var(--border); border-radius:12px; padding:16px; margin:16px 0;
}
.params-grid{
  display:grid; grid-template-columns:repeat(auto-fit,minmax(220px,1fr)); gap:12px;
}
label{display:flex; flex-direction:column; gap:6px; color:var(--muted); font-size:14px}
input, select{
  padding:10px; border-radius:8px; border:1px solid var(--border); background:var(--input); color:var(--text);
}

.table{width:100%; border-collapse:collapse; margin-top:8px}
.table th, .table td{border:1px solid var(--border); padding:10px; text-align:left}
.table th{color:var(--muted)}

.actions{display:flex; gap:10px; margin-top:12px}
button{
  padding:10px 14px; border-radius:8px; border:1px solid var(--border); background:var(--input); color:var(--text); cursor:pointer
}
#addRow{background:var(--primary); border-color:var(--primary); color:#fff}
#calculate{background:var(--accent); border-color:var(--accent); color:#052e12; font-weight:700}
.remove-btn{background:var(--danger); border-color:#b91c1c; color:#fff; font-weight:700}

.dashboard{display:grid; grid-template-columns:repeat(auto-fit,minmax(220px,1fr)); gap:12px}
.card{background:var(--card); border:1px solid var(--border); border-radius:12px; padding:14px}
.card .label{color:var(--muted); font-size:13px}
.card .value{font-size:20px; font-weight:700; margin-top:6px}

.charts{display:grid; grid-template-columns:1fr 1fr; gap:14px}
@media (max-width:900px){ .charts{grid-template-columns:1fr} }

.table-wrap{overflow:auto}
.footer{padding:16px; text-align:center; color:var(--muted); border-top:1px solid var(--border)}

/* Modal */
.modal{position:fixed; inset:0; background:rgba(0,0,0,.6); display:none; align-items:center; justify-content:center; z-index:20}
.modal-content{
  background:#fff; color:#111; width:360px; max-width:90vw; border-radius:12px; padding:18px; position:relative; box-shadow:0 10px 30px rgba(0,0,0,.4)
}
.close{position:absolute; top:10px; right:10px; border:none; background:#f3f4f6; color:#111; border-radius:8px; padding:6px 10px; cursor:pointer}

#dimensionnementSection .table th{background:transparent}


/* Toggle switch stylé */
.switch {
  position: relative; display: inline-block;
  width: 60px; height: 34px;
}
.switch input { display:none; }
.slider {
  position: absolute; cursor: pointer;
  top: 0; left: 0; right: 0; bottom: 0;
  background-color: #ccc; transition: .4s; border-radius: 34px;
}
.slider:before {
  position: absolute; content: "";
  height: 26px; width: 26px; left: 4px; bottom: 4px;
  background-color: white; transition: .4s; border-radius: 50%;
}
input:checked + .slider { background-color: var(--accent); }
input:checked + .slider:before { transform: translateX(26px); }


/* Liste matériels */
#materialList { background:var(--panel); }
.mat-list { margin:0; padding-left:18px; }
.mat-list li { margin:6px 0; }

/* Notification toast */
.toast {
  visibility: hidden;
  min-width: 250px;
  background-color: #ef4444;
  color: #fff;
  text-align: center;
  border-radius: 8px;
  padding: 12px;
  position: fixed;
  z-index: 3000;
  left: 50%;
  bottom: 30px;
  transform: translateX(-50%);
  font-weight: bold;
  opacity: 0;
  transition: opacity 0.5s, bottom 0.5s;
}
.toast.show {
  visibility: visible;
  opacity: 1;
  bottom: 50px;
}


/* ------------------------------
   Typographie par défaut (desktop)
------------------------------ */
.overlay-content h2 {
  font-size: 22px;
  font-weight: 600;
}
.overlay-content h3 {
  font-size: 18px;
  font-weight: 500;
}
.overlay-content p,
.overlay-content label,
.overlay-content input,
.overlay-content select,
.overlay-content button {
  font-size: 15px;
  line-height: 1.5;
}

/* ------------------------------
   Overlay global
------------------------------ */
.overlay {
  position: fixed;
  inset: 0;
  background: rgba(0,0,0,0.75);
  display: none;
  justify-content: center;
  align-items: center;
  z-index: 2000;
}

/* Conteneur générique */
.overlay-content {
  position: relative;
  background: #fff;
  color: #111;
  padding: 20px 25px;
  border-radius: 12px;
  width: 90%;
  max-width: 600px;       /* élargi pour lisibilité */
  max-height: 75vh;       /* réduit en hauteur */
  overflow-y: auto;
  box-shadow: 0 8px 20px rgba(0,0,0,0.25);
  animation: fadeIn 0.3s ease;
}

/* Bouton de fermeture (croix) */
.close-btn {
  position: absolute;
  top: 12px;
  right: 12px;
  background:  #2563eb;
  border: none;
  font-size: 22px;
  font-weight: bold;
  color: #fff;
  cursor: pointer;
  transition: color 0.2s;
}
.close-btn:hover {
  color: #1e4ed8;
}

/* ------------------------------
   Formulaire de paiement
------------------------------ */
.pay-form label {
  display: flex;
  flex-direction: column;
  gap: 6px;
  margin-bottom: 15px;
  font-size: 14px;
  color: var(--muted);
}
.pay-form input,
.pay-form select {
  padding: 10px;
  border-radius: 8px;
  border: 1px solid var(--border);
  background: var(--input);
  color: var(--text);
  font-size: 15px;
  outline: none;
  transition: border-color 0.2s;
}
.pay-form input:focus,
.pay-form select:focus {
  border-color: #2563eb;
}
.pay-btn {
  width: 100%;
  padding: 12px;
  background: #2563eb;
  color: #fff;
  border: none;
  border-radius: 8px;
  font-size: 16px;
  cursor: pointer;
  transition: background 0.2s;
}
.pay-btn:hover {
  background: #1e4ed8;
}

/* ------------------------------
   Guide utilisateur
------------------------------ */
#guideModal .overlay-content {
  max-width: 700px;       /* plus large pour le texte */
  text-align: left;
}
#guideModal p {
  margin: 8px 0;
  font-size: 14px;
  line-height: 1.5;
}
#guideModal button {
  padding: 8px 16px;
  background: #2563eb;
  color: #fff;
  border: none;
  border-radius: 6px;
  cursor: pointer;
}

/* ------------------------------
   Politique de confidentialité
------------------------------ */
.privacy-content h2 {
  margin-bottom: 10px;
  color: #2563eb;
}
.privacy-content h3 {
  margin-top: 15px;
  margin-bottom: 5px;
  color: #1e4ed8;
}
.privacy-content p {
  font-size: 14px;
  line-height: 1.6;
  margin-bottom: 10px;
}

/* ------------------------------
   Responsive (mobile & tablettes)
------------------------------ */
@media (max-width: 768px) {
  .overlay-content {
    width: 95%;
    max-width: none;
    max-height: 80vh;
    border-radius: 10px;
  }
  .overlay-content h2 {
    font-size: 18px;
  }
  .overlay-content h3 {
    font-size: 16px;
  }
  .overlay-content p,
  .overlay-content label,
  .overlay-content input,
  .overlay-content select,
  .overlay-content button {
    font-size: 14px;
  }
  #guideModal .overlay-content h2 {
    font-size: 20px;
  }
  .privacy-content h2 {
    font-size: 19px;
  }
  .privacy-content h3 {
    font-size: 15px;
  }
  .dashboard {
    flex-direction: column;
  }
  .form-section, .results-section {
    width: 100%;
  }
}

/* ------------------------------
   Animation
------------------------------ */
@keyframes fadeIn {
  from { transform: scale(0.9); opacity: 0; }
  to { transform: scale(1); opacity: 1; }
}
